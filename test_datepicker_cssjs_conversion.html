<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LitDatepickerParents CSS-in-JS ë³€í™˜ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 40px;
            background-color: #f8f9fa;
        }
        .test-section {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .original-column, .cssjs-column {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
        }
        .original-column {
            border-color: #ff9800;
            background-color: #fff3e0;
        }
        .cssjs-column {
            border-color: #4caf50;
            background-color: #e8f5e8;
        }
        h1, h2, h3 {
            color: #333;
            border-bottom: 2px solid #0d6efd;
            padding-bottom: 10px;
        }
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .status.success {
            background-color: #d1e7dd;
            color: #0f5132;
            border: 1px solid #a3cfbb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #842029;
            border: 1px solid #f1aeb5;
        }
        .benefits-box {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .benefits-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        .benefits-item:last-child {
            border-bottom: none;
        }
        .test-item {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .test-item h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
    </style>
    <script type="module">
        // DateUtils í´ë˜ìŠ¤ ëª¨í‚¹ (ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²ƒ)
        class DateUtils {
            static DATE_TYPE = {
                DATE: 'date',
                MONTH: 'month',
                DATETIME: 'datetime'
            };
            
            static getDefaultFormat(dateType) {
                switch (dateType) {
                    case this.DATE_TYPE.DATE:
                        return 'Y-m-d';
                    case this.DATE_TYPE.MONTH:
                        return 'Y-m';
                    case this.DATE_TYPE.DATETIME:
                        return 'Y-m-d H:i';
                    default:
                        return 'Y-m-d';
                }
            }
            
            static getDateFormatRegex(format) {
                // ê°„ë‹¨í•œ ë‚ ì§œ í˜•ì‹ ê²€ì¦ìš© ì •ê·œì‹
                const patterns = {
                    'Y-m-d': /^\d{4}-\d{2}-\d{2}$/,
                    'Y-m': /^\d{4}-\d{2}$/,
                    'Y-m-d H:i': /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/
                };
                return patterns[format] || patterns['Y-m-d'];
            }
            
            static parseDateStrByFormat(dateStr, format) {
                try {
                    // ê°„ë‹¨í•œ ë‚ ì§œ íŒŒì‹± (ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•¨)
                    return new Date(dateStr);
                } catch (e) {
                    return null;
                }
            }
        }
        
        // DateUtilsë¥¼ ì „ì—­ìœ¼ë¡œ ì„¤ì •
        window.DateUtils = DateUtils;
        
        // CSS ë³€ìˆ˜ë¥¼ ì „ì—­ìœ¼ë¡œ ì„¤ì • (common.css ëŒ€ì²´)
        const style = document.createElement('style');
        style.textContent = `
            :root {
                --bs-body-bg: #fff;
                --bs-body-color: #212529;
                --bs-component-bg: #fff;
                --bs-border-color: #dee2e6;
                --bs-border-width: 1px;
                --bs-border-radius: 0.375rem;
                --bs-secondary-color: rgba(33, 37, 41, 0.75);
                --bs-tertiary-bg: #f8f9fa;
                --bs-form-control-disabled-bg: #e9ecef;
                --bs-danger: #dc3545;
                --bs-danger-rgb: 220, 53, 69;
                --bs-danger-text: #842029;
                --bs-success-text: #0f5132;
                --bs-gray-500: #6c757d;
            }
        `;
        document.head.appendChild(style);
        
        // ì›ë³¸ ì»´í¬ë„ŒíŠ¸ import (ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì„ì‹œë¡œ ì£¼ì„)
        // import './src/components/input/LitDatepicker.js';
        
        // CSS-in-JS ë³€í™˜ëœ ì»´í¬ë„ŒíŠ¸ import
        import './src/components/container/LitDatepickerParents_CSSinJS.js';
        
        // í…ŒìŠ¤íŠ¸ìš© ì»¤ìŠ¤í…€ ì—˜ë¦¬ë¨¼íŠ¸ ë“±ë¡
        customElements.define('l-datepicker-cssjs', class extends window.LitDatepickerParentsCSSinJS {
            constructor() {
                super();
                this.setDateType(DateUtils.DATE_TYPE.DATE);
            }
        });
        
        customElements.define('l-monthpicker-cssjs', class extends window.LitDatepickerParentsCSSinJS {
            constructor() {
                super();
                this.setDateType(DateUtils.DATE_TYPE.MONTH);
            }
        });
        
        // í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì²´í¬
        document.addEventListener('DOMContentLoaded', () => {
            const statusDiv = document.getElementById('test-status');
            
            try {
                setTimeout(() => {
                    const cssjsDatepickers = document.querySelectorAll('l-datepicker-cssjs');
                    const cssjsMonthpickers = document.querySelectorAll('l-monthpicker-cssjs');
                    
                    if (cssjsDatepickers.length > 0 && cssjsMonthpickers.length > 0) {
                        statusDiv.className = 'status success';
                        statusDiv.innerHTML = `
                            âœ… <strong>CSS-in-JS ë³€í™˜ í…ŒìŠ¤íŠ¸ ì„±ê³µ!</strong><br>
                            â€¢ CSS-in-JS Datepicker: ${cssjsDatepickers.length}ê°œ ì •ìƒ ë Œë”ë§<br>
                            â€¢ CSS-in-JS Monthpicker: ${cssjsMonthpickers.length}ê°œ ì •ìƒ ë Œë”ë§<br>
                            â€¢ CSS íŒŒì¼ ëŒ€ì‹  ëª¨ë“ˆí™”ëœ ìŠ¤íƒ€ì¼ì´ ì •ìƒ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.
                        `;
                        
                        // Flatpickr ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸
                        testFlatpickrIntegration();
                        
                    } else {
                        statusDiv.className = 'status error';
                        statusDiv.textContent = 'âŒ ì¼ë¶€ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.';
                    }
                }, 3000); // Flatpickr ë¡œë”© ì‹œê°„ ê³ ë ¤
            } catch (error) {
                statusDiv.className = 'status error';
                statusDiv.textContent = `âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`;
            }
        });
        
        function testFlatpickrIntegration() {
            const resultDiv = document.getElementById('flatpickr-test-result');
            try {
                // Flatpickr ì¸ìŠ¤í„´ìŠ¤ í™•ì¸
                const datepicker = document.querySelector('l-datepicker-cssjs');
                
                if (datepicker && typeof datepicker._datepicker !== 'undefined') {
                    resultDiv.className = 'status success';
                    resultDiv.innerHTML = `
                        âœ… <strong>Flatpickr í†µí•© í…ŒìŠ¤íŠ¸ ì„±ê³µ!</strong><br>
                        â€¢ Flatpickr ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                        â€¢ CSS-in-JS ìŠ¤íƒ€ì¼ê³¼ ì™¸ë¶€ CSSê°€ í•¨ê»˜ ì˜ ì‘ë™í•©ë‹ˆë‹¤.<br>
                        â€¢ ë‚ ì§œ ì„ íƒ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
                    `;
                } else {
                    resultDiv.className = 'status error';
                    resultDiv.textContent = 'âŒ Flatpickr ì´ˆê¸°í™” ì‹¤íŒ¨';
                }
            } catch (error) {
                resultDiv.className = 'status error';
                resultDiv.textContent = `âŒ Flatpickr í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜: ${error.message}`;
            }
        }
    </script>
</head>
<body>
    <h1>ğŸ“… LitDatepickerParents CSS-in-JS ë³€í™˜ í…ŒìŠ¤íŠ¸</h1>
    
    <div id="test-status" class="status">
        â³ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘... (ì»´í¬ë„ŒíŠ¸ ë° Flatpickr ë¡œë”© ëŒ€ê¸°)
    </div>

    <div class="benefits-box">
        <h3>ğŸš€ CSS-in-JS ë³€í™˜ì˜ ì´ì </h3>
        <div class="benefits-item">
            <span><strong>íŒŒì¼ í†µí•©</strong></span>
            <span>Input.css íŒŒì¼ dependency ì œê±°</span>
        </div>
        <div class="benefits-item">
            <span><strong>ì¤‘ë³µ ì œê±°</strong></span>
            <span>SharedStyles.jsì™€ ì¤‘ë³µ ìŠ¤íƒ€ì¼ í•´ê²°</span>
        </div>
        <div class="benefits-item">
            <span><strong>ëª¨ë“ˆí™”</strong></span>
            <span>DatepickerStyles, FormControlStyles, ValidationStyles ëª¨ë“ˆ</span>
        </div>
        <div class="benefits-item">
            <span><strong>ìœ ì§€ë³´ìˆ˜ì„±</strong></span>
            <span>í•˜ë‚˜ì˜ ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œìœ¼ë¡œ í†µí•©</span>
        </div>
        <div class="benefits-item">
            <span><strong>Flatpickr í˜¸í™˜</strong></span>
            <span>ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ CSS-in-JS ê³µì¡´</span>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ”„ CSS-in-JS ë³€í™˜ëœ Datepicker í…ŒìŠ¤íŠ¸</h2>
        <p>Input.css, Flatpickr.cssë¥¼ CSS-in-JS ëª¨ë“ˆë¡œ ë³€í™˜í•œ ë²„ì „ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
        
        <div class="cssjs-column">
            <h3>âœ¨ CSS-in-JS (ëª¨ë“ˆ ì‚¬ìš©)</h3>
            <p>DatepickerStyles.js + FormControlStyles.js + ValidationStyles.js ëª¨ë“ˆ ë°©ì‹</p>
            
            <div class="test-item">
                <h4>ê¸°ë³¸ ë‚ ì§œ ì„ íƒê¸°</h4>
                <l-datepicker-cssjs 
                    id="cssjs-datepicker" 
                    label="ë‚ ì§œ ì„ íƒ" 
                    name="test-date"
                    value="2024-01-15">
                </l-datepicker-cssjs>
            </div>
            
            <div class="test-item">
                <h4>ì›” ì„ íƒê¸°</h4>
                <l-monthpicker-cssjs 
                    id="cssjs-monthpicker" 
                    label="ì›” ì„ íƒ" 
                    name="test-month"
                    format="Y-m"
                    value="2024-01">
                </l-monthpicker-cssjs>
            </div>
            
            <div class="test-item">
                <h4>í¬ê¸° ë³€í˜• ë° í•„ìˆ˜ ì…ë ¥</h4>
                <l-datepicker-cssjs 
                    id="cssjs-datepicker-large" 
                    label="Large Size" 
                    size="large"
                    required
                    feedback="í•„ìˆ˜ ì…ë ¥ í•„ë“œì…ë‹ˆë‹¤"
                    feedback-type="error"
                    feedback-visible-type="invalid">
                </l-datepicker-cssjs>
            </div>
            
            <div class="test-item">
                <h4>Left Align ë¼ë²¨</h4>
                <l-datepicker-cssjs 
                    id="cssjs-datepicker-left" 
                    label="ì‹œì‘ì¼" 
                    label-align="left"
                    label-width="100px"
                    size="small">
                </l-datepicker-cssjs>
            </div>
            
            <div class="test-item">
                <h4>ë¹„í™œì„±í™” ìƒíƒœ</h4>
                <l-datepicker-cssjs 
                    id="cssjs-datepicker-disabled" 
                    label="ë¹„í™œì„±í™”ëœ ë‚ ì§œ" 
                    value="2024-12-25"
                    disabled>
                </l-datepicker-cssjs>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª Flatpickr ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸</h2>
        <div id="flatpickr-test-result" class="status">
            â³ Flatpickr í†µí•© í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...
        </div>
        
        <h3>í…ŒìŠ¤íŠ¸ ë‚´ìš©</h3>
        <ul>
            <li><strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”©</strong>: Flatpickr ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸</li>
            <li><strong>CSS í˜¸í™˜ì„±</strong>: CSS-in-JSì™€ ì™¸ë¶€ CSSê°€ ì¶©ëŒ ì—†ì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸</li>
            <li><strong>ì¸í„°ë™ì…˜</strong>: ë‚ ì§œ ì„ íƒ, ì›” ì„ íƒ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸</li>
            <li><strong>í…Œë§ˆ ì ìš©</strong>: ì»¤ìŠ¤í…€ Flatpickr í…Œë§ˆê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ëŠ”ì§€ í™•ì¸</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ” ê°œë°œì ë„êµ¬ í™•ì¸ì‚¬í•­</h2>
        <ol>
            <li><strong>Network íƒ­</strong>: Input.css íŒŒì¼ ë¡œë”©ì´ ì¤„ì–´ë“¤ì—ˆëŠ”ì§€ í™•ì¸</li>
            <li><strong>Elements íƒ­</strong>: CSS-in-JS í´ë˜ìŠ¤ê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
            <li><strong>Console</strong>: Flatpickr ì´ˆê¸°í™” ë° ìŠ¤íƒ€ì¼ ê´€ë ¨ ì˜¤ë¥˜ í™•ì¸</li>
            <li><strong>Performance</strong>: ìŠ¤íƒ€ì¼ ë¡œë”© ì„±ëŠ¥ê³¼ Flatpickr ì´ˆê¸°í™” ì„±ëŠ¥ í™•ì¸</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š ë³€í™˜ ì™„ë£Œ í›„ ì˜ˆìƒ íš¨ê³¼</h2>
        <div class="benefits-box">
            <h3>íŒŒì¼ êµ¬ì¡° ê°œì„ </h3>
            <div class="benefits-item">
                <span><strong>CSS ì˜ì¡´ì„± ê°ì†Œ</strong></span>
                <span>Input.css ì˜ì¡´ì„± ì œê±° (common.cssëŠ” ì—¬ì „íˆ í•„ìš”)</span>
            </div>
            <div class="benefits-item">
                <span><strong>ìƒˆë¡œ ì¶”ê°€ëœ ëª¨ë“ˆ</strong></span>
                <span>DatepickerStyles.js (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í†µí•© ëª¨ë“ˆ)</span>
            </div>
            <div class="benefits-item">
                <span><strong>ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸í™˜</strong></span>
                <span>Flatpickr CSSì™€ CSS-in-JSì˜ í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼</span>
            </div>
            <div class="benefits-item">
                <span><strong>ì¼ê´€ëœ í…Œë§ˆ</strong></span>
                <span>CSS ì»¤ìŠ¤í…€ í”„ë¡œí¼í‹° ê¸°ë°˜ í†µí•© í…Œë§ˆ ì‹œìŠ¤í…œ</span>
            </div>
        </div>
    </div>
</body>
</html>